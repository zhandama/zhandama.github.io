
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui">
        <title>摇一摇游戏排行榜</title>
        <link href="file/style.css" rel="stylesheet" type="text/css"/>
    </head>
    <body>
        <div class="ques-section clearfix">
            <div class="ques-section-item">
                <div class="ques-section-card">
                    <div class="ques-card-head ques-card-bul">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="30px" xml:space="preserve">
                            <defs>
                                <pattern id="water" width=".25" height="1.1" patternContentUnits="objectBoundingBox">
                                    <path fill="#fff" d="M0.25,1H0c0,0,0-0.659,0-0.916c0.083-0.303,0.158,0.334,0.25,0C0.25,0.327,0.25,1,0.25,1z"></path>
                                </pattern>
                                <g id="eff">
                                    <rect fill="url(#water)" x="-119.461" y="0" width="1200" height="120" opacity="0.3">
                                        <animate attributeType="xml" attributeName="x" from="-300" to="0" repeatCount="indefinite" dur="10s"></animate>
                                    </rect>
                                    <rect fill="url(#water)" y="5" width="1600" height="125" opacity="0.3" x="-399.447">
                                        <animate attributeType="xml" attributeName="x" from="-400" to="0" repeatCount="indefinite" dur="13s"></animate>
                                    </rect>
                                </g>
                            </defs>
                            <use xlink:href="#eff" opacity="1" style="mix-blend-mode:normal;"></use>
                        </svg>
                    </div>
                    <div class="ques-card-title ques-card-title-top">摇一摇排行榜<div class="start" onclick="start()">开始游戏</div></div>
                    
                    <ul class="ques-card-list">
                        <li class="ques-card-list-noe">
                            <div class="ques-list-box clearfix">
                                <div class="ques-list-head">
                                    <div class="ques-list-image">
                                        <img src="https://www.17sucai.com/preview/10221/2018-06-28/question/images/user.jpg" alt="">
                                    </div>
                                </div>
                                <div class="ques-list-name">
                                    <div class="ques-list-name-head">  小仙女/</div>
                                    <div class="ques-list-name-text"> 摇了: 46 下</div>
                                </div>
                                <span class="ques-list-name-icon item-icon001">1</span>
                            </div>
                        </li>
                        <li class="ques-card-list-two">
                            <div class="ques-list-box clearfix">
                                <div class="ques-list-head">
                                    <div class="ques-list-image">
                                        <img src="https://www.17sucai.com/preview/10221/2018-06-28/question/images/user001.jpg" alt="">
                                    </div>
                                </div>
                                <div class="ques-list-name">
                                    <div class="ques-list-name-head">摩登熊希/</div>
                                    <div class="ques-list-name-text"> 摇了: 46 下</div>
                                </div>
                                <span class="ques-list-name-icon item-icon002">2</span>
                            </div>
                        </li>
                        <li class="ques-card-list-three">
                            <div class="ques-list-box clearfix">
                                <div class="ques-list-head">
                                    <div class="ques-list-image">
                                        <img src="https://www.17sucai.com/preview/10221/2018-06-28/question/images/user002.jpg" alt="">
                                    </div>
                                </div>
                                <div class="ques-list-name">
                                    <div class="ques-list-name-head">小猪罗罗</div>
                                    <div class="ques-list-name-text"> 摇了: 46 下</div>
                                </div>
                                <span class="ques-list-name-icon item-icon003">3</span>
                            </div>
                        </li>
                        <li class="">
                            <div class="ques-list-box clearfix">
                                <div class="ques-list-head">
                                    <div class="ques-list-image">
                                        <img src="https://www.17sucai.com/preview/10221/2018-06-28/question/images/user003.jpg" alt="">
                                    </div>
                                </div>
                                <div class="ques-list-name">
                                    <div class="ques-list-name-head">我是国际章</div>
                                    <div class="ques-list-name-text"> 摇了: 46 下</div>
                                </div>
                                <span class="ques-list-name-icon item-icon004">4</span>
                            </div>
                        </li>
                        <li class="">
                            <div class="ques-list-box clearfix">
                                <div class="ques-list-head">
                                    <div class="ques-list-image">
                                        <img src="https://www.17sucai.com/preview/10221/2018-06-28/question/images/user004.jpg" alt="">
                                    </div>
                                </div>
                                <div class="ques-list-name">
                                    <div class="ques-list-name-head">熊希的哥</div>
                                    <div class="ques-list-name-text"> 摇了: 46 下</div>
                                </div>
                                <span class="ques-list-name-icon item-icon005">5</span>
                            </div>
                        </li>
                        <li class="">
                            <div class="ques-list-box clearfix">
                                <div class="ques-list-head">
                                    <div class="ques-list-image">
                                        <img src="https://www.17sucai.com/preview/10221/2018-06-28/question/images/user004.jpg" alt="">
                                    </div>
                                </div>
                                <div class="ques-list-name">
                                    <div class="ques-list-name-head">熊希的哥</div>
                                    <div class="ques-list-name-text"> 摇了: 46 下</div>
                                </div>
                                <span class="ques-list-name-icon item-icon005">6</span>
                            </div>
                        </li>
                        <li class="">
                            <div class="ques-list-box clearfix">
                                <div class="ques-list-head">
                                    <div class="ques-list-image">
                                        <img src="https://www.17sucai.com/preview/10221/2018-06-28/question/images/user004.jpg" alt="">
                                    </div>
                                </div>
                                <div class="ques-list-name">
                                    <div class="ques-list-name-head">熊希的哥</div>
                                    <div class="ques-list-name-text"> 摇了: 46 下</div>
                                </div>
                                <span class="ques-list-name-icon item-icon005">7</span>
                            </div>
                        </li>
                        <li class="">
                            <div class="ques-list-box clearfix">
                                <div class="ques-list-head">
                                    <div class="ques-list-image">
                                        <img src="https://www.17sucai.com/preview/10221/2018-06-28/question/images/user004.jpg" alt="">
                                    </div>
                                </div>
                                <div class="ques-list-name">
                                    <div class="ques-list-name-head">熊希的哥</div>
                                    <div class="ques-list-name-text"> 摇了: 46 下</div>
                                </div>
                                <span class="ques-list-name-icon item-icon005">8</span>
                            </div>
                        </li>
                        <li class="">
                            <div class="ques-list-box clearfix">
                                <div class="ques-list-head">
                                    <div class="ques-list-image">
                                        <img src="https://www.17sucai.com/preview/10221/2018-06-28/question/images/user004.jpg" alt="">
                                    </div>
                                </div>
                                <div class="ques-list-name">
                                    <div class="ques-list-name-head">熊希的哥</div>
                                    <div class="ques-list-name-text"> 摇了: 46 下 </div>
                                </div>
                                <span class="ques-list-name-icon item-icon005">9</span>
                            </div>
                        </li>
                        <li class="">
                            <div class="ques-list-box clearfix">
                                <div class="ques-list-head">
                                    <div class="ques-list-image">
                                        <img src="https://www.17sucai.com/preview/10221/2018-06-28/question/images/user004.jpg" alt="">
                                    </div>
                                </div>
                                <div class="ques-list-name">
                                    <div class="ques-list-name-head">熊希的哥</div>
                                    <div class="ques-list-name-text"> 摇了: 46 下</div>
                                </div>
                                <span class="ques-list-name-icon item-icon005">10</span>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
1111111----------
        <ul id="ulid" type="circle" style="list-style:none">
        </ul>
    </body>
    <script>
var SHAKE_THRESHOLD = 3000;
        var last_update = 0;
        var x = y = z = last_x = last_y = last_z = 0;
		var num = 0;
		var isprint = false;
        function init() {
            if (window.DeviceMotionEvent) {
                window.addEventListener('devicemotion', deviceMotionHandler, false);
            } else {
                alert('not support mobile event');
            }
        }
        function deviceMotionHandler(eventData) {
            var acceleration = eventData.accelerationIncludingGravity;
            var curTime = new Date().getTime();
            if ((curTime - last_update) > 100) {
                var diffTime = curTime - last_update;
                last_update = curTime;
                x = acceleration.x;
                y = acceleration.y;
                z = acceleration.z;
                var speed = Math.abs(x + y + z - last_x - last_y - last_z) / diffTime * 10000;
				var x1 = Math.abs(x-last_x);
				var y1 = Math.abs(y-last_y);
				var z1 = Math.abs(z-last_z);
				var max =0;
				if(x1>y1){
					if(x1>z1){
						max=x1;
					}else{
						max=z1;
					}
				}else {
					if(y1>z1){
						max=y1;
					}else{
						max=z1;
					}
				}
				if(max>40){
					isprint=true;
					num++;
				}else if(max<5&&isprint){
					var node = document.getElementById("ulid");
					var li=document.createElement("li"); 
					li.innerText=num;
					node.appendChild(li);
					num=0;
					isprint=false;
				}
                last_x = x;
                last_y = y;
                last_z = z;
            }
        }
		function add(){
			num++;
			var node = document.getElementById("ulid");
			var li=document.createElement("li"); 
			li.innerText=num;
			node.appendChild(li);
		}
    </script>
</html>
